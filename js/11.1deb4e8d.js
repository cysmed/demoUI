(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{c6c7:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"padding bg-grey-1"},[t("q-toolbar",{staticClass:"bg-primary text-white"},[t("q-toolbar-title",{staticClass:"q-mt-md q-ml-md"},[t("span",{staticClass:"text-weight-bold q-pt-lg"},[e._v("Professional Registration")]),t("br"),t("span",{staticClass:"text-caption",staticStyle:{"font-size":"0.8em"}},[e._v("Register as a medical Professional")])]),t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:e.cysmed.closeSidebar}})],1),t("div",{staticClass:"q-ma-md"},[!e.cysmed.professionalRegistrationsObj.isAdmin||e.cysmed.professionalToEdit.approved||e.cysmed.professionalToEdit.rejected?e._e():t("q-btn",{staticClass:"q-mr-sm",attrs:{"no-caps":"",icon:"done",color:"primary",label:"Approve"},on:{click:function(s){return e.cysmed.rejectProfessionalApplication({approved:!0})}}}),e.cysmed.professionalRegistrationsObj.isAdmin&&e.cysmed.professionalToEdit.approved?t("q-btn",{staticClass:"q-mr-sm",attrs:{"no-caps":"",icon:"close",color:"red",label:"Remove Approval"},on:{click:function(s){return e.cysmed.rejectProfessionalApplication({approved:!1})}}}):e._e(),!e.cysmed.professionalRegistrationsObj.isAdmin||e.cysmed.professionalToEdit.approved||e.cysmed.professionalToEdit.rejected?e._e():t("q-btn",{staticClass:"q-mr-sm",attrs:{"no-caps":"",icon:"do_disturb_on",color:"red",label:"Reject"},on:{click:function(s){return e.cysmed.rejectProfessionalApplication({rejected:!0})}}}),e.cysmed.professionalRegistrationsObj.isAdmin&&!e.cysmed.professionalToEdit.approved&&e.cysmed.professionalToEdit.rejected?t("q-btn",{staticClass:"q-mr-sm",attrs:{"no-caps":"",icon:"track_changes",color:"green",label:"Reconsider"},on:{click:function(s){return e.cysmed.rejectProfessionalApplication({rejected:!1})}}}):e._e()],1),t("q-page-sticky",{staticClass:"q-gutter-xs q-ma-sm",staticStyle:{"z-index":"3"},attrs:{position:"top-right",offset:[18,0]}},[e.cysmed.professionalIsModified?e._e():t("q-btn",{staticClass:"text-black q-mr-sm",attrs:{fab:"",icon:"done",color:"transparent",disable:!0}}),e.cysmed.professionalIsModified?t("q-btn",{staticClass:"q-mr-sm",attrs:{fab:"",icon:"done",color:"red"},on:{click:e.cysmed.submitModifiedProfessional}}):e._e()],1),t("q-tabs",{attrs:{align:"left","no-caps":""},model:{value:e.tab,callback:function(s){e.tab=s},expression:"tab"}},[t("q-tab",{attrs:{name:"Details",label:"Details"}}),t("q-tab",{attrs:{name:"files",label:"Files"}})],1),t("q-tab-panels",{staticClass:"q-ma-none full-width q-pa-none bg-transparent",attrs:{animated:""},model:{value:e.tab,callback:function(s){e.tab=s},expression:"tab"}},[t("q-tab-panel",{attrs:{name:"Details"}},[t("div",{staticClass:"q-ml-sm"},[t("q-select",{attrs:{filled:"",options:e.cysmed.professions,label:"Profession","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please select a profession"}]},on:{input:e.cysmed.changeSomethingInProfessional},model:{value:e.cysmed.professionalToEdit.profession,callback:function(s){e.$set(e.cysmed.professionalToEdit,"profession",s)},expression:"cysmed.professionalToEdit.profession"}}),t("q-input",{attrs:{filled:"",label:"Full Name",type:"text",rules:[function(e){return e&&e.length>0||"Please select enter your name"}]},on:{input:e.cysmed.changeSomethingInProfessional},model:{value:e.cysmed.professionalToEdit.fullName,callback:function(s){e.$set(e.cysmed.professionalToEdit,"fullName",s)},expression:"cysmed.professionalToEdit.fullName"}}),t("q-input",{attrs:{filled:"",label:"ID/Passport Number",type:"text",rules:[function(e){return e&&e.length>0||"Please select enter your ID/Passport Number"}]},on:{input:e.cysmed.changeSomethingInProfessional},model:{value:e.cysmed.professionalToEdit.idNumber,callback:function(s){e.$set(e.cysmed.professionalToEdit,"idNumber",s)},expression:"cysmed.professionalToEdit.idNumber"}}),t("q-input",{attrs:{filled:"",label:"Telephone 1",type:"text",rules:[function(e){return e&&e.length>0||"Please select enter your phone number."},function(s){return s&&e.cysmed.isTelephone(s)||"Please enter a valid phone number(+254...)."}]},on:{input:e.cysmed.changeSomethingInProfessional},model:{value:e.cysmed.professionalToEdit.telephone1,callback:function(s){e.$set(e.cysmed.professionalToEdit,"telephone1",s)},expression:"cysmed.professionalToEdit.telephone1"}}),t("q-input",{attrs:{filled:"",label:"Telephone 2",type:"text",rules:[function(e){return e&&e.length>0||"Please select enter your phone number. Repeat first if you don't have a second."},function(s){return s&&e.cysmed.isTelephone(s)||"Please enter a valid phone number(+254...)."}]},on:{input:e.cysmed.changeSomethingInProfessional},model:{value:e.cysmed.professionalToEdit.telephone2,callback:function(s){e.$set(e.cysmed.professionalToEdit,"telephone2",s)},expression:"cysmed.professionalToEdit.telephone2"}})],1)]),t("q-tab-panel",{attrs:{name:"files"}},[t("div",{staticClass:"full-width flex flex-center items-center",staticStyle:{}},[t("q-page",{staticClass:"full-height full-width"},[t("q-carousel",{staticClass:"rounded-borders full-width full-height",attrs:{"transition-prev":"slide-right","transition-next":"slide-left",animated:"","control-color":"primary","prev-icon":"arrow_left","next-icon":"arrow_right",infinite:"",arrows:""},model:{value:e.cysmed.slide,callback:function(s){e.$set(e.cysmed,"slide",s)},expression:"cysmed.slide"}},e._l(e.cysmed.professionalRegistrationsObj.files,(function(s){return t("q-carousel-slide",{key:s.link,staticClass:"column no-wrap flex-center",attrs:{name:s.link}},[s.link.match(/pdf$/)?t("q-pdfviewer",{attrs:{"content-style":"height: 800px;","inner-content-style":"height: 800px;",src:e.cysmed.rootUrl()+s.link,type:"pdfjs"},model:{value:e.show,callback:function(s){e.show=s},expression:"show"}}):t("img",{staticStyle:{width:"95%"},attrs:{src:e.cysmed.rootUrl()+s.link}}),t("div",{staticClass:"row q-ma-md"},[t("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Add File",icon:"add",color:"green"},on:{click:e.enableUpload}}),t("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Delete File",icon:"delete",color:"red"},on:{click:function(t){return e.cysmed.deleteProfessionalRegistrationForm(s)}}})],1)],1)})),1)],1)],1)])],1),t("q-dialog",{model:{value:e.qUploader,callback:function(s){e.qUploader=s},expression:"qUploader"}},[t("q-uploader",{staticClass:"full-width",attrs:{url:e.cysmed.professionalRegistrationObj.url+"?userId="+e.cysmed.professionalRegistrationsObj.realUserId+"&professionalRegistrationId="+e.cysmed.professionalToEdit.professionalRegistrationId,label:"Upload Academic/Professional Certificates/ID",color:"secondary",square:"",flat:"",bordered:"",multiple:!1,accept:"image/*, .pdf",method:"POST",headers:e.cysmed.professionalRegistrationObj.headers},on:{failed:e.cysmed.error,uploaded:function(s){e.cysmed.success("Upload successful."),e.cysmed.updateTabData(!1),e.cysmed.getUploadedFiles()},uploading:function(s){e.cysmed.loading=!0}}})],1)],1)},o=[],i={name:"editProfessionalSideBar",props:["cysmed"],components:{},watch:{cysmedslide(e){alert("changed to ",e),this.slide=e}},data(){return{qUploader:!1,slide:"",show:!0,tab:"Details"}},async created(){await this.cysmed.getProfessions(),await this.cysmed.getUploadedFiles(),this.slide=this.cysmed.professionalRegistrationsObj.slide},methods:{enableUpload(){this.cysmed.startUploadingRegistrationFiles(),this.qUploader=!0}},computed:{cardContainerClass(){if(this.$q.screen.gt.xs)return"grid-masonry grid-masonry--"+(this.$q.screen.gt.sm?"6":"4")}}},l=i,n=t("2877"),r=t("65c6"),c=t("6ac5"),d=t("9c40"),p=t("de5e"),m=t("429bb"),f=t("7460"),u=t("adad"),b=t("823b"),y=t("ddd8"),h=t("27f9"),g=t("9989"),q=t("880c"),T=t("62cd"),v=t("6a67"),P=t("24e8"),k=t("ee89"),x=t("eebe"),C=t.n(x),w=Object(n["a"])(l,a,o,!1,null,null,null);s["default"]=w.exports;C()(w,"components",{QToolbar:r["a"],QToolbarTitle:c["a"],QBtn:d["a"],QPageSticky:p["a"],QTabs:m["a"],QTab:f["a"],QTabPanels:u["a"],QTabPanel:b["a"],QSelect:y["a"],QInput:h["a"],QPage:g["a"],QCarousel:q["a"],QCarouselSlide:T["a"],QBtnToggle:v["a"],QDialog:P["a"],QUploader:k["a"]})}}]);