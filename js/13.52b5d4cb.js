(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{5985:function(t,s,e){},9256:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("q-page",{staticClass:"flex flex-center",staticStyle:{position:"fixed",top:"0px",width:"100%","z-index":"100"}},[a("img",{attrs:{alt:t.sysValues.PROJECT.toLowerCase(),src:e("6e23")("./"+t.sysValues.PROJECT.toLowerCase()+"/csysteminfo.png")}})]),a("q-page",{staticClass:"flex flex-center",staticStyle:{position:"absolute",top:"0px",width:"100%","z-index":"1000"}},[a("q-card",{staticClass:"activate-card"},[a("q-card-section",{staticClass:"bg-secondary text-white text-center"},[a("div",{staticClass:"text-h6"},[t._v(t._s(t.translate("PROJECT.NAME")))]),a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.translate("ACTIONS.ACCOUNT.ACTIVATION")))])]),a("q-card-section",{staticClass:"bg-secondary text-white"},[a("q-form",{staticClass:"text-white bg-secondary",on:{submit:t.onSubmit,reset:t.onReset}},[a("q-input",{attrs:{filled:"",type:"password",label:t.translate("FIELDS.PASSWORD"),"lazy-rules":"",rules:[function(s){return null!==s&&""!==s||t.translate("FIELDS.ERRORS.PASSWORD.MISSINGOWN")}],"error-message":t.passwordErrorMessage},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),a("q-input",{attrs:{filled:"",type:"password",label:t.translate("FIELDS.CONFIRMPASSWORD"),"lazy-rules":"",rules:[function(s){return null!==s&&""!==s||t.translate("FIELDS.ERRORS.CONFIRMPASSWORD.MISSINGOWN")}],"error-message":t.passwordErrorMessage},model:{value:t.cpassword,callback:function(s){t.cpassword=s},expression:"cpassword"}}),a("div",{staticClass:"q-pa-md"},[a("q-btn",{attrs:{label:t.translate("ACTIONS.SUBMIT"),type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:t.translate("ACTIONS.RESET"),type:"reset",color:"white",flat:""}})],1)],1)],1)],1)],1)],1)},r=[];e("ddb0"),e("cf57");const i=e("c2a1").default,o=e("1712").to,n=e("20e6"),l=e("ea76").default;var c={name:"activate",components:{},props:["cysmed"],data(){return{translate:l.translate,sysValues:n,extendedProjectName:"",password:"",cpassword:"",passwordErrorMessage:""}},async created(){i.setSettings({TBURL:n["TB_URL"]}),this.extendedProjectName=n["PROJECTEXTENDED"],i.setVue(this)},methods:{async onSubmit(){return i.setSettings({TBURL:n["TB_URL"]}),new Promise((async(t,s)=>{let e,a=window.location.hash.split("?")[1].split("&");if(a.map((t=>{t=t.split("="),"activateToken"===t[0]&&(e=t[1])})),console.log(e),this.password!==this.cpassword)return this.cpassword="",this.passwordErrorMessage=this.translate("FIELDS.ERRORS.PASSWORD.DONTMATCH"),this.$q.notify({type:"negative",message:this.translate("FIELDS.ERRORS.PASSWORD.DONTMATCH")}),t(!1);i.showLoading({message:this.translate("PASSAGE.ACTIVATESETPASSWORD")});let[r,n]=await o(i.activateAndCreatePassword({activateToken:e,password:this.password},!0));if(i.hideLoading(),r){r=r.msg||r.message||r.error||r;try{r=JSON.parse(r)}catch(l){}if("object"===typeof r){let t=Object.keys(r);r=r[t[0]]}this.$q.notify({type:"negative",message:this.translate(r)||r}),t(!1)}else this.$q.notify({type:"positive",message:this.translate("SUCCESS.ACTIVATION")}),window.location.assign("/")}))},onReset(){this.cpassword="",this.password=""}}},d=c,p=(e("ae9e"),e("2877")),S=e("9989"),u=e("f09f"),w=e("a370"),f=e("0378"),C=e("27f9"),h=e("9c40"),m=e("eebe"),R=e.n(m),O=Object(p["a"])(d,a,r,!1,null,"de56ec92",null);s["default"]=O.exports;R()(O,"components",{QPage:S["a"],QCard:u["a"],QCardSection:w["a"],QForm:f["a"],QInput:C["a"],QBtn:h["a"]})},ae9e:function(t,s,e){"use strict";e("5985")}}]);