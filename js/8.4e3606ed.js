(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{3120:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"padding bg-grey-1"},[a("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:t.createUserDialog,callback:function(e){t.createUserDialog=e},expression:"createUserDialog"}},[a("q-card",{staticClass:"my-card"},[a("q-card-section",{staticClass:"bg-secondary text-white text-center"},[a("div",{staticClass:"text-h6"},[t._v("CysmedHub")])]),a("q-card-section",{staticClass:"bg-secondary text-white q-pa-none"},[a("registrationForm",{attrs:{inside:"true"}})],1)],1)],1),a("breadcrumbs",{attrs:{links:t.links}}),a("div",{staticClass:"row q-gutter-lg q-ma-none q-pa-none"},[a("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"ALL USERS","background-color":"bg-primary","icon-name":"person",total:t.numUsers}}),a("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"SYS_ADMIN","background-color":"bg-primary","icon-name":"settings",total:t.numSysAdmins,link:"/#/system/users/sys_admins"}})],1),a("q-table",{staticClass:"col",attrs:{title:"Users",dense:"",data:t.allUsers,columns:t.columns,filter:t.filter,"row-key":"index"},on:{"row-click":t.selectUser},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1),a("q-btn",{attrs:{flat:""}},[a("q-icon",{attrs:{color:"primary",name:"refresh",side:""},on:{click:function(e){return t.fetchUsers()}}})],1),a("q-btn",{attrs:{flat:""}},[a("q-icon",{attrs:{color:"primary",name:"add_circle",side:""},on:{click:function(e){t.createUserDialog=!0}}})],1)]},proxy:!0}])})],1)},n=[],i=(a("ddb0"),a("cf57"),a("310f")),o=a("2cbd"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"bg-white",attrs:{flat:""}},[a("q-card-section",{staticClass:"flex flex-center"},[a("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-primary cursor-pointer q-hoverable",staticStyle:{width:"80vw"},on:{click:function(e){return t.gotoPage(t.localLink)}}},[a("q-card-section",{staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 flex flex-center"},[a("q-icon",{staticStyle:{"font-size":"3em"},attrs:{name:t.iconName,color:"white"}})],1),a("div",{staticClass:"col"},[a("p",{staticClass:"text-bold"},[t._v(t._s(t.title))]),a("h5",{ref:"number",staticClass:"q-ma-none"},[t._v(t._s(t.total))])])])])],1)],1)],1)},r=[],c={props:["title","total","backgroundColor","iconName","link"],mounted(){this.link?this.localLink=this.link:this.localLink=window.location.href},created(){this.link?this.localLink=this.link:this.localLink=window.location.href},computed:{},watch:{},data(){return{localLink:window.location.href,options:{separator:"."}}},methods:{gotoPage(t){console.log(t),window.location.assign(t)}}},d=c,m=(a("d30f"),a("2877")),g=a("f09f"),u=a("a370"),p=a("0016"),f=a("714f"),h=a("eebe"),b=a.n(h),w=Object(m["a"])(d,l,r,!1,null,"aa7de262",null),k=w.exports;b()(w,"components",{QCard:g["a"],QCardSection:u["a"],QIcon:p["a"]}),b()(w,"directives",{Ripple:f["a"]});var y=a("5757");const q=a("ff00"),C=a("40cd").default,U=a("1712").to;var v={name:"PageIndex",components:{loginForm:i["a"],breadcrumbs:o["a"],cardTotal:k,registrationForm:y["a"]},data(){return{createUserDialog:!1,loaded:!0,links:[{label:"Settings",icon:"settings",to:"/system"},{label:"Users",icon:"people",to:"/system/users"}],checkedLoggedIn:!1,loggedIn:!1,listHck:[{name:"Users",icon:"settings",link:"/#/system/users",Authority:"Manage Users and Organizations",description:"Manage Users and Organizations"}],filter:"",columnsHck:[],columns:[{name:"firstName",label:"First Name",field:"firstName"},{name:"lastName",label:"Last Name",field:"lastName"},{name:"email",label:"Email",field:"email"}],numUsers:0,numSysAdmins:0,allUsers:[]}},async created(){C.setVue(this),C.setSettings({TBURL:q["TB_URL"]}),C.showLoading();let[t,e]=await U(C.isLoggedIn());C.hideLoading(),this.checkedLoggedIn=!0,!t&&e||window.location.assign("#/"),C.showLoading(),[t,e]=await U(C.listAllUsers()),console.log(e),C.hideLoading(),this.allUsers=e||[],this.numUsers=this.allUsers.length,this.numSysAdmins=this.allUsers.filter((t=>"SYS_ADMIN"===t.authority)).length},methods:{selectApplication(t){window.location.assign(t)},gotoPage(t){console.log(t),window.location.assign(t)}},computed:{cardContainerClass(){if(this.$q.screen.gt.xs)return"grid-masonry grid-masonry--"+(this.$q.screen.gt.sm?"6":"4")}}},x=v,L=a("9989"),S=a("24e8"),_=a("eaac"),Q=a("27f9"),N=a("9c40"),I=a("bd08"),A=a("db86"),D=a("42a1"),T=Object(m["a"])(x,s,n,!1,null,null,null);e["default"]=T.exports;b()(T,"components",{QPage:L["a"],QDialog:S["a"],QCard:g["a"],QCardSection:u["a"],QTable:_["a"],QInput:Q["a"],QIcon:p["a"],QBtn:N["a"],QTr:I["a"],QTd:A["a"],QPopupEdit:D["a"]})},"359c":function(t,e,a){},d30f:function(t,e,a){"use strict";a("359c")}}]);