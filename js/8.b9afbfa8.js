(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{3120:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"padding bg-grey-1"},[s("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:t.createUserDialog,callback:function(e){t.createUserDialog=e},expression:"createUserDialog"}},[s("q-card",{staticClass:"q-ma-md"},[s("q-card-section",{staticClass:"bg-secondary text-white text-center"},[s("div",{staticClass:"text-h6"},[t._v("CysmedHub")])]),s("q-card-section",{staticClass:"bg-secondary text-white"},[s("registrationForm",{attrs:{inside:"true"}})],1)],1)],1),s("breadcrumbs",{attrs:{links:t.links}}),s("div",{staticClass:"row q-gutter-lg q-ma-none q-pa-none"},[s("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"ALL USERS","background-color":"bg-primary","icon-name":"person",total:t.numUsers}}),s("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"SYS_ADMIN","background-color":"bg-primary","icon-name":"settings",total:t.numSysAdmins,link:"/#/system/users/sys_admins"}}),s("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"ACTIVE","background-color":"bg-primary","icon-name":"do_not_disturb_off",total:t.numActiveUsers,link:"/#/system/users/active"}}),s("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"INACTIVE","background-color":"bg-primary","icon-name":"do_not_disturb_on",total:t.numInactiveUsers,link:"/#/system/users/inactive"}}),s("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"ENABLED","background-color":"bg-primary","icon-name":"people",total:t.numEnabledUsers,link:"/#/system/users/enabled"}}),s("cardTotal",{staticClass:"col-12 col-lg-2 col-md-3 col-sm-12 bg-transparent q-ma-none",attrs:{title:"DISABLED","background-color":"bg-primary","icon-name":"person_off",total:t.numDisabledusers,link:"/#/system/users/disabled"}})],1),s("q-table",{staticClass:"col",attrs:{title:"Users",dense:"",data:t.allUsers,columns:t.columns,filter:t.filter,"row-key":"index"},on:{"row-click":t.selectUser},scopedSlots:t._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[s("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1),s("q-btn",{attrs:{flat:""}},[s("q-icon",{attrs:{color:"primary",name:"refresh",side:""},on:{click:function(e){return t.fetchUsers()}}})],1),s("q-btn",{attrs:{flat:""}},[s("q-icon",{attrs:{color:"primary",name:"add_circle",side:""},on:{click:function(e){t.createUserDialog=!0}}})],1)]},proxy:!0}])})],1)},n=[],i=(s("ddb0"),s("cf57"),s("310f")),l=s("2cbd"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"bg-white",attrs:{flat:""}},[s("q-card-section",{staticClass:"flex flex-center"},[s("q-card",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"bg-primary cursor-pointer q-hoverable",staticStyle:{width:"80vw"},on:{click:function(e){return t.gotoPage(t.localLink)}}},[s("q-card-section",{staticClass:"text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3 flex flex-center"},[s("q-icon",{staticStyle:{"font-size":"3em"},attrs:{name:t.iconName,color:"white"}})],1),s("div",{staticClass:"col"},[s("p",{staticClass:"text-bold"},[t._v(t._s(t.title))]),s("h5",{ref:"number",staticClass:"q-ma-none"},[t._v(t._s(t.total))])])])])],1)],1)],1)},r=[],c={props:["title","total","backgroundColor","iconName","link"],mounted(){this.link?this.localLink=this.link:this.localLink=window.location.href},created(){this.link?this.localLink=this.link:this.localLink=window.location.href},computed:{},watch:{},data(){return{localLink:window.location.href,options:{separator:"."}}},methods:{gotoPage(t){console.log(t),window.location.assign(t)}}},d=c,m=(s("d30f"),s("2877")),g=s("f09f"),u=s("a370"),h=s("0016"),b=s("714f"),p=s("eebe"),f=s.n(p),k=Object(m["a"])(d,o,r,!1,null,"aa7de262",null),U=k.exports;f()(k,"components",{QCard:g["a"],QCardSection:u["a"],QIcon:h["a"]}),f()(k,"directives",{Ripple:b["a"]});var w=s("5757");const y=s("ff00"),C=s("40cd").default,q=s("1712").to;var v={name:"PageIndex",components:{loginForm:i["a"],breadcrumbs:l["a"],cardTotal:U,registrationForm:w["a"]},data(){return{createUserDialog:!1,loaded:!0,links:[{label:"Settings",icon:"settings",to:"/system"},{label:"Users",icon:"people",to:"/system/users"}],checkedLoggedIn:!1,loggedIn:!1,listHck:[{name:"Users",icon:"settings",link:"/#/system/users",Authority:"Manage Users and Organizations",description:"Manage Users and Organizations"}],filter:"",columnsHck:[],columns:[{name:"firstName",label:"First Name",field:"firstName"},{name:"lastName",label:"Last Name",field:"lastName"},{name:"email",label:"Email",field:"email"}],numUsers:0,numSysAdmins:0,numActiveUsers:0,numInactiveUsers:0,numEnabledUsers:0,numDisabledusers:0,allUsers:[]}},async created(){C.setVue(this),C.setSettings({TBURL:y["TB_URL"]}),C.showLoading();let[t,e]=await q(C.isLoggedIn());C.hideLoading(),this.checkedLoggedIn=!0,!t&&e||window.location.assign("#/"),C.showLoading(),[t,e]=await q(C.listAllUsers()),console.log(e),C.hideLoading(),this.allUsers=e||[],this.numUsers=this.allUsers.length,this.numSysAdmins=this.allUsers.filter((t=>"SYS_ADMIN"===t.authority)).length,this.numActiveUsers=this.allUsers.filter((t=>!0===t.isActive)).length,this.numInactiveUsers=this.allUsers.filter((t=>!1===t.isActive)).length,this.numEnabledUsers=this.allUsers.filter((t=>!0===t.enabled)).length,this.numDisabledusers=this.allUsers.filter((t=>!1===t.enabled)).length},methods:{selectApplication(t){window.location.assign(t)},gotoPage(t){console.log(t),window.location.assign(t)},selectUser(t,e){this.selectedUser=!0,this.selectedEmail=e.email,this.selectedId="object"===typeof e.id?e.id.id:e.id,this.selectedFirstName=e.firstName,this.selectedLastName=e.lastName,console.log("clicked on",e)}},computed:{cardContainerClass(){if(this.$q.screen.gt.xs)return"grid-masonry grid-masonry--"+(this.$q.screen.gt.sm?"6":"4")}}},_=v,L=s("9989"),x=s("24e8"),A=s("eaac"),I=s("27f9"),S=s("9c40"),N=s("bd08"),D=s("db86"),E=s("42a1"),Q=Object(m["a"])(_,a,n,!1,null,null,null);e["default"]=Q.exports;f()(Q,"components",{QPage:L["a"],QDialog:x["a"],QCard:g["a"],QCardSection:u["a"],QTable:A["a"],QInput:I["a"],QIcon:h["a"],QBtn:S["a"],QTr:N["a"],QTd:D["a"],QPopupEdit:E["a"]})},"359c":function(t,e,s){},d30f:function(t,e,s){"use strict";s("359c")}}]);